import{a5 as v,b as m,l as a,a8 as y,M as c,N as _,k as h,S as b,F as S,$,Q as k,u as R,Y as N,Z as w,f as B,W as p,a7 as V,a4 as K,a9 as L}from"./vue-chunks-DWnFCQSz.js";import{u as g}from"./robot-DpRojvB8.js";import{b as I,d as s}from"../../index-DQXF0oEW.js";import{_ as j,M as E}from"./index-dYCqajUf.js";import"./index-CchQf1sK.js";import"./axios-Cm0UX6qg.js";import"./qs-De-rn6vz.js";import"./crypto-js-U6t3rvpm.js";import"./dayjs-BI1HIvBC.js";import"./shallowequal-C0Ji8tJB.js";import"./Trigger-CC5n-pw8.js";import"./collapseMotion-ByInPrfq.js";import"./slide-DBTiAtg1.js";import"./index-DwY9A703.js";import"./index-CUGUQ2OU.js";import"./colors-CunZT9q_.js";const F={class:"left-menu-box"},T={__name:"left-menu",props:{robotInfo:{type:Object,default:()=>{}}},emits:["changeMenu"],setup(o,{emit:u}){const t=v(),e=o,i=t.query,l=m(()=>[t.path.split("/")[3]]),d=[{key:"workflow",id:"workflow",icon:()=>a(s,{name:"workflow",class:"menu-icon"}),label:"工作流编排",title:"工作流编排",path:"/robot/config/workflow"},{key:"basic-config",id:"basic-config",icon:()=>a(s,{name:"jichupeizhi",class:"menu-icon"}),label:"基础配置",title:"基础配置",path:"/robot/config/basic-config"},{key:"external-services",id:"external-services",icon:()=>a(s,{name:"duiwaifuwu",class:"menu-icon"}),label:"对外服务",title:"对外服务",path:"/robot/config/external-services"},{key:"test",id:"test",icon:()=>a(s,{name:"liaotianceshi",class:"menu-icon"}),label:"聊天测试",title:"聊天测试",path:"/robot/test",query:{robot_key:e.robotInfo.robot_key,id:e.robotInfo.id},target:"_blank"},{key:"qa-feedbacks",id:"qa-feedbacks",icon:()=>a(s,{name:"qa-feedback",class:"menu-icon"}),label:"问答反馈",title:"问答反馈",path:"/robot/config/qa-feedbacks"},{key:"session-record",id:"session-record",icon:()=>a(s,{name:"session-record",class:"menu-icon"}),label:"会话记录",title:"会话记录",path:"/robot/config/session-record",query:{robot_key:e.robotInfo.robot_key,id:e.robotInfo.id}},{key:"statistical_analysis",id:"statistical_analysis",icon:()=>a(s,{name:"statistical-analysis",class:"menu-icon"}),label:"统计分析",title:"统计分析",path:"/robot/config/statistical_analysis"},{key:"export-record",id:"export-record",icon:()=>a(s,{name:"export-record",class:"menu-icon"}),label:"导出记录",title:"导出记录",path:"/robot/config/export-record"}],f=m(()=>e.robotInfo.application_type==0?d.filter(r=>r.id!="workflow"):d.filter(r=>r.id!="basic-config")),M=({item:r})=>{l.value.includes(r.id)};return(r,G)=>{const q=j,x=y("router-link"),C=E;return c(),_("div",F,[h(C,{class:"left-menu",selectedKeys:l.value,onClick:M},{default:b(()=>[(c(!0),_(S,null,$(f.value,n=>(c(),k(x,{class:"default-color",tag:"a",target:n.target||"_self",to:{path:n.path,query:n.query||R(i)},key:n.key},{default:b(()=>[(c(),k(q,{icon:n.icon,path:n.path,key:n.key},{default:b(()=>[N(w(n.label),1)]),_:2},1032,["icon","path"]))]),_:2},1032,["target","to"]))),128))]),_:1},8,["selectedKeys"])])}}},W=I(T,[["__scopeId","data-v-e8369d52"]]),z=B({name:"robotPage",components:{leftMenu:W},async beforeRouteEnter(o,u,t){const e=g(),{getRobot:i}=e;await i(o.query.id),t()},setup(){const o=K(),u=g(),{robotInfo:t}=L(u),e=m(()=>v().name!="robotWorkflow");return{robotInfo:t,changeMenu:l=>{o.push({path:l.path,query:{robot_key:t.value.robot_key,id:t.value.id}})},isShowLeft:e}}}),D={class:"robot-page-layout"},O={key:0,class:"layout-left"},P={class:"robot-name-box"},Q=["src"],Y={class:"robot-name"},Z={class:"layout-body"};function A(o,u,t,e,i,l){const d=y("leftMenu"),f=y("router-view");return c(),_("div",D,[o.isShowLeft?(c(),_("div",O,[p("div",P,[p("img",{class:"robot-avatar",src:o.robotInfo.robot_avatar_url,alt:""},null,8,Q),p("span",Y,w(o.robotInfo.robot_name),1)]),h(d,{onChangeMenu:o.changeMenu,robotInfo:o.robotInfo},null,8,["onChangeMenu","robotInfo"])])):V("",!0),p("div",Z,[h(f)])])}const _o=I(z,[["render",A],["__scopeId","data-v-2fba3d4d"]]);export{_o as default};
