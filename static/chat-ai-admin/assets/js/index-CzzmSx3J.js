import{y as L,q as o,bh as D,z as B,bm as j,bl as v,w as W,F as X,p as y,L as H,O as R,Q as V,U as P,bj as q,T as G,aE as O}from"../../index-BdYv4pbp.js";import{f as _,e as w,w as U,d as x,o as F,k as m,q as Q,z as J,s as I}from"./vue-chunks-Dagx-vSq.js";import{h as K,r as Y}from"./collapseMotion-D5mGic4t.js";function T(e,t){return{[`${e}, ${e}:hover, ${e}:focus`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}}function M(e){return{backgroundColor:e.bgColorSelected,boxShadow:e.boxShadow}}const Z=o({overflow:"hidden"},D),k=e=>{const{componentCls:t}=e;return{[t]:o(o(o(o(o({},j(e)),{display:"inline-block",padding:e.segmentedContainerPadding,color:e.labelColor,backgroundColor:e.bgColor,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,[`${t}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",width:"100%"},[`&${t}-rtl`]:{direction:"rtl"},[`&${t}-block`]:{display:"flex"},[`&${t}-block ${t}-item`]:{flex:1,minWidth:0},[`${t}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${e.motionDurationMid} ${e.motionEaseInOut}`,borderRadius:e.borderRadiusSM,"&-selected":o(o({},M(e)),{color:e.labelColorHover}),"&::after":{content:'""',position:"absolute",width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",transition:`background-color ${e.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.labelColorHover,"&::after":{backgroundColor:e.bgColorHover}},"&-label":o({minHeight:e.controlHeight-e.segmentedContainerPadding*2,lineHeight:`${e.controlHeight-e.segmentedContainerPadding*2}px`,padding:`0 ${e.segmentedPaddingHorizontal}px`},Z),"&-icon + *":{marginInlineStart:e.marginSM/2},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${t}-thumb`]:o(o({},M(e)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${e.paddingXXS}px 0`,borderRadius:e.borderRadiusSM,[`& ~ ${t}-item:not(${t}-item-selected):not(${t}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${t}-lg`]:{borderRadius:e.borderRadiusLG,[`${t}-item-label`]:{minHeight:e.controlHeightLG-e.segmentedContainerPadding*2,lineHeight:`${e.controlHeightLG-e.segmentedContainerPadding*2}px`,padding:`0 ${e.segmentedPaddingHorizontal}px`,fontSize:e.fontSizeLG},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadius}},[`&${t}-sm`]:{borderRadius:e.borderRadiusSM,[`${t}-item-label`]:{minHeight:e.controlHeightSM-e.segmentedContainerPadding*2,lineHeight:`${e.controlHeightSM-e.segmentedContainerPadding*2}px`,padding:`0 ${e.segmentedPaddingHorizontalSM}px`},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadiusXS}}}),T(`&-disabled ${t}-item`,e)),T(`${t}-item-disabled`,e)),{[`${t}-thumb-motion-appear-active`]:{transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, width ${e.motionDurationSlow} ${e.motionEaseInOut}`,willChange:"transform, width"}})}},ee=L("Segmented",e=>{const{lineWidthBold:t,lineWidth:r,colorTextLabel:g,colorText:s,colorFillSecondary:n,colorBgLayout:l,colorBgElevated:u}=e,c=B(e,{segmentedPaddingHorizontal:e.controlPaddingHorizontal-r,segmentedPaddingHorizontalSM:e.controlPaddingHorizontalSM-r,segmentedContainerPadding:t,labelColor:g,labelColorHover:s,bgColor:l,bgColorHover:n,bgColorSelected:u});return[k(c)]}),E=e=>e?{left:e.offsetLeft,right:e.parentElement.clientWidth-e.clientWidth-e.offsetLeft,width:e.clientWidth}:null,p=e=>e!==void 0?`${e}px`:void 0,te=_({props:{value:v(),getValueIndex:v(),prefixCls:v(),motionName:v(),onMotionStart:v(),onMotionEnd:v(),direction:v(),containerRef:v()},emits:["motionStart","motionEnd"],setup(e,t){let{emit:r}=t;const g=w(),s=i=>{var a;const S=e.getValueIndex(i),h=(a=e.containerRef.value)===null||a===void 0?void 0:a.querySelectorAll(`.${e.prefixCls}-item`)[S];return(h==null?void 0:h.offsetParent)&&h},n=w(null),l=w(null);U(()=>e.value,(i,a)=>{const S=s(a),h=s(i),N=E(S),A=E(h);n.value=N,l.value=A,r(S&&h?"motionStart":"motionEnd")},{flush:"post"});const u=x(()=>{var i,a;return e.direction==="rtl"?p(-((i=n.value)===null||i===void 0?void 0:i.right)):p((a=n.value)===null||a===void 0?void 0:a.left)}),c=x(()=>{var i,a;return e.direction==="rtl"?p(-((i=l.value)===null||i===void 0?void 0:i.right)):p((a=l.value)===null||a===void 0?void 0:a.left)});let d;const f=i=>{clearTimeout(d),J(()=>{i&&(i.style.transform="translateX(var(--thumb-start-left))",i.style.width="var(--thumb-start-width)")})},b=i=>{d=setTimeout(()=>{i&&(K(i,`${e.motionName}-appear-active`),i.style.transform="translateX(var(--thumb-active-left))",i.style.width="var(--thumb-active-width)")})},$=i=>{n.value=null,l.value=null,i&&(i.style.transform=null,i.style.width=null,Y(i,`${e.motionName}-appear-active`)),r("motionEnd")},C=x(()=>{var i,a;return{"--thumb-start-left":u.value,"--thumb-start-width":p((i=n.value)===null||i===void 0?void 0:i.width),"--thumb-active-left":c.value,"--thumb-active-width":p((a=l.value)===null||a===void 0?void 0:a.width)}});return F(()=>{clearTimeout(d)}),()=>{const i={ref:g,style:C.value,class:[`${e.prefixCls}-thumb`]};return m(Q,{appear:!0,onBeforeEnter:f,onEnter:b,onAfterEnter:$},{default:()=>[!n.value||!l.value?null:m("div",i,null)]})}}});function ie(e){return e.map(t=>typeof t=="object"&&t!==null?t:{label:t==null?void 0:t.toString(),title:t==null?void 0:t.toString(),value:t})}const ae=()=>({prefixCls:String,options:q(),block:P(),disabled:P(),size:V(),value:o(o({},G([String,Number])),{required:!0}),motionName:String,onChange:R(),"onUpdate:value":R()}),z=(e,t)=>{let{slots:r,emit:g}=t;const{value:s,disabled:n,payload:l,title:u,prefixCls:c,label:d=r.label,checked:f,className:b}=e,$=C=>{n||g("change",C,s)};return m("label",{class:H({[`${c}-item-disabled`]:n},b)},[m("input",{class:`${c}-item-input`,type:"radio",disabled:n,checked:f,onChange:$},null),m("div",{class:`${c}-item-label`,title:typeof u=="string"?u:""},[typeof d=="function"?d({value:s,disabled:n,payload:l,title:u}):d??s])])};z.inheritAttrs=!1;const ne=_({name:"ASegmented",inheritAttrs:!1,props:W(ae(),{options:[],motionName:"thumb-motion"}),slots:Object,setup(e,t){let{emit:r,slots:g,attrs:s}=t;const{prefixCls:n,direction:l,size:u}=X("segmented",e),[c,d]=ee(n),f=I(),b=I(!1),$=x(()=>ie(e.options)),C=(i,a)=>{e.disabled||(r("update:value",a),r("change",a))};return()=>{const i=n.value;return c(m("div",y(y({},s),{},{class:H(i,{[d.value]:!0,[`${i}-block`]:e.block,[`${i}-disabled`]:e.disabled,[`${i}-lg`]:u.value=="large",[`${i}-sm`]:u.value=="small",[`${i}-rtl`]:l.value==="rtl"},s.class),ref:f}),[m("div",{class:`${i}-group`},[m(te,{containerRef:f,prefixCls:i,value:e.value,motionName:`${i}-${e.motionName}`,direction:l.value,getValueIndex:a=>$.value.findIndex(S=>S.value===a),onMotionStart:()=>{b.value=!0},onMotionEnd:()=>{b.value=!1}},null),$.value.map(a=>m(z,y(y({key:a.value,prefixCls:i,checked:a.value===e.value,onChange:C},a),{},{className:H(a.className,`${i}-item`,{[`${i}-item-selected`]:a.value===e.value&&!b.value}),disabled:!!e.disabled||!!a.disabled}),g))])]))}}}),se=O(ne);export{se as _};
