import{cB as O,p as c}from"../../index-BYXP5-K6.js";import{i as R}from"./ResizeObserver.es-B1PUzC5B.js";import{f as x,B as C,x as M,y as B,D as H,w as W,h as D}from"./vue-chunks-DKljrDvA.js";const _=x({compatConfig:{MODE:3},name:"ResizeObserver",props:{disabled:Boolean,onResize:Function},emits:["resize"],setup(i,v){let{slots:h}=v;const n=C({width:0,height:0,offsetHeight:0,offsetWidth:0});let l=null,s=null;const r=()=>{s&&(s.disconnect(),s=null)},b=e=>{const{onResize:t}=i,o=e[0].target,{width:z,height:w}=o.getBoundingClientRect(),{offsetWidth:d,offsetHeight:f}=o,g=Math.floor(z),m=Math.floor(w);if(n.width!==g||n.height!==m||n.offsetWidth!==d||n.offsetHeight!==f){const u={width:g,height:m,offsetWidth:d,offsetHeight:f};c(n,u),t&&Promise.resolve().then(()=>{t(c(c({},u),{offsetWidth:d,offsetHeight:f}),o)})}},p=D(),a=()=>{const{disabled:e}=i;if(e){r();return}const t=O(p);t!==l&&(r(),l=t),!s&&t&&(s=new R(b),s.observe(t))};return M(()=>{a()}),B(()=>{a()}),H(()=>{r()}),W(()=>i.disabled,()=>{a()},{flush:"post"}),()=>{var e;return(e=h.default)===null||e===void 0?void 0:e.call(h)[0]}}});export{_ as R};
