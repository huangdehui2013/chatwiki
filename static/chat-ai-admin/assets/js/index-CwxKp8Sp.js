import{aM as me,bx as Vt,aD as k,cd as qt,aI as X,aT as ue,aK as Ut,aJ as ht,aH as $e,A as Pe,L as On,aE as Cn,aN as En,c3 as Dn,bp as $n,bH as Ot,aZ as Nn,aQ as Wt,bi as Pn,bw as dt,bq as ct,bj as de,aX as Ne,bB as He,aL as Tn}from"../../index-UhR4yadr.js";import{s as M,j as Oe,f as Ee,p as Gt,b,d as Xt,k as m,h as In,B as Yt,x as Jt,y as Qt,w as ve,z as gt,o as _n,G as Fn,H as An,q as Ln,e as fe,F as Mn,aa as at,D as jn,m as Bn}from"./vue-chunks-DWnFCQSz.js";import{g as Re,e as ze,f as Zt,h as ut,i as en,c as tn,j as ft,k as Hn,l as Ct,u as Rn,p as ot,a as lt,b as pe,m as zn,n as Et,d as ke,o as Vn}from"./useMaxLevel-8lDaIAJK.js";import{L as qn}from"./index-9VXz7HRC.js";import{f as Un,g as Wn}from"./collapseMotion-ByInPrfq.js";import{g as Gn}from"./index-C0X3d23U.js";import{d as Xn}from"./responsiveObserve-Bs6--9PQ.js";function ce(e){const t=M();return Oe(()=>{t.value=e()},{flush:"sync"}),t}const nn=Symbol("TreeContextKey"),Yn=Ee({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup(e,t){let{slots:n}=t;return Gt(nn,b(()=>e.value)),()=>{var a;return(a=n.default)===null||a===void 0?void 0:a.call(n)}}}),pt=()=>Xt(nn,b(()=>({}))),an=Symbol("KeysStateKey"),Jn=e=>{Gt(an,e)},on=()=>Xt(an,{expandedKeys:M([]),selectedKeys:M([]),loadedKeys:M([]),loadingKeys:M([]),checkedKeys:M([]),halfCheckedKeys:M([]),expandedKeysSet:b(()=>new Set),selectedKeysSet:b(()=>new Set),loadedKeysSet:b(()=>new Set),loadingKeysSet:b(()=>new Set),checkedKeysSet:b(()=>new Set),halfCheckedKeysSet:b(()=>new Set),flattenNodes:M([])}),Qn=e=>{let{prefixCls:t,level:n,isStart:a,isEnd:o}=e;const v=`${t}-indent-unit`,s=[];for(let p=0;p<n;p+=1)s.push(m("span",{key:p,class:{[v]:!0,[`${v}-start`]:a[p],[`${v}-end`]:o[p]}},null));return m("span",{"aria-hidden":"true",class:`${t}-indent`},[s])},Zn=Qn,ln={eventKey:[String,Number],prefixCls:String,title:me.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:me.any,switcherIcon:me.any,domRef:{type:Function}},ea={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},rn=()=>({prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:me.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:me.any,selectable:{type:Boolean,default:void 0},expandAction:[String,Boolean],disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:me.any,switcherIcon:me.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String},rootClassName:String,rootStyle:Object});var ta=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]]);return n};const Dt="open",$t="close",na="---",vt=Ee({compatConfig:{MODE:3},name:"ATreeNode",inheritAttrs:!1,props:ln,isTreeNode:1,setup(e,t){let{attrs:n,slots:a,expose:o}=t;Vt(!("slots"in e.data),`treeData slots is deprecated, please use ${Object.keys(e.data.slots||{}).map(l=>"`v-slot:"+l+"` ")}instead`);const v=M(!1),s=pt(),{expandedKeysSet:p,selectedKeysSet:O,loadedKeysSet:S,loadingKeysSet:D,checkedKeysSet:K,halfCheckedKeysSet:V}=on(),{dragOverNodeKey:A,dropPosition:G,keyEntities:h}=s.value,f=b(()=>Re(e.eventKey,{expandedKeysSet:p.value,selectedKeysSet:O.value,loadedKeysSet:S.value,loadingKeysSet:D.value,checkedKeysSet:K.value,halfCheckedKeysSet:V.value,dragOverNodeKey:A,dropPosition:G,keyEntities:h})),w=ce(()=>f.value.expanded),z=ce(()=>f.value.selected),j=ce(()=>f.value.checked),W=ce(()=>f.value.loaded),B=ce(()=>f.value.loading),Y=ce(()=>f.value.halfChecked),J=ce(()=>f.value.dragOver),R=ce(()=>f.value.dragOverGapTop),u=ce(()=>f.value.dragOverGapBottom),C=ce(()=>f.value.pos),_=M(),Q=b(()=>{const{eventKey:l}=e,{keyEntities:d}=s.value,{children:I}=d[l]||{};return!!(I||[]).length}),H=b(()=>{const{isLeaf:l}=e,{loadData:d}=s.value,I=Q.value;return l===!1?!1:l||!d&&!I||d&&W.value&&!I}),ae=b(()=>H.value?null:w.value?Dt:$t),te=b(()=>{const{disabled:l}=e,{disabled:d}=s.value;return!!(d||l)}),Ke=b(()=>{const{checkable:l}=e,{checkable:d}=s.value;return!d||l===!1?!1:d}),re=b(()=>{const{selectable:l}=e,{selectable:d}=s.value;return typeof l=="boolean"?l:d}),T=b(()=>{const{data:l,active:d,checkable:I,disableCheckbox:U,disabled:Z,selectable:ee}=e;return k(k({active:d,checkable:I,disableCheckbox:U,disabled:Z,selectable:ee},l),{dataRef:l,data:l,isLeaf:H.value,checked:j.value,expanded:w.value,loading:B.value,selected:z.value,halfChecked:Y.value})}),ye=In(),q=b(()=>{const{eventKey:l}=e,{keyEntities:d}=s.value,{parent:I}=d[l]||{};return k(k({},ze(k({},e,f.value))),{parent:I})}),ne=Yt({eventData:q,eventKey:b(()=>e.eventKey),selectHandle:_,pos:C,key:ye.vnode.key});o(ne);const ie=l=>{const{onNodeDoubleClick:d}=s.value;d(l,q.value)},he=l=>{if(te.value)return;const{onNodeSelect:d}=s.value;l.preventDefault(),d(l,q.value)},Se=l=>{if(te.value)return;const{disableCheckbox:d}=e,{onNodeCheck:I}=s.value;if(!Ke.value||d)return;l.preventDefault();const U=!j.value;I(l,q.value,U)},De=l=>{const{onNodeClick:d}=s.value;d(l,q.value),re.value?he(l):Se(l)},Te=l=>{const{onNodeMouseEnter:d}=s.value;d(l,q.value)},qe=l=>{const{onNodeMouseLeave:d}=s.value;d(l,q.value)},Ue=l=>{const{onNodeContextMenu:d}=s.value;d(l,q.value)},We=l=>{const{onNodeDragStart:d}=s.value;l.stopPropagation(),v.value=!0,d(l,ne);try{l.dataTransfer.setData("text/plain","")}catch{}},Ge=l=>{const{onNodeDragEnter:d}=s.value;l.preventDefault(),l.stopPropagation(),d(l,ne)},Xe=l=>{const{onNodeDragOver:d}=s.value;l.preventDefault(),l.stopPropagation(),d(l,ne)},Fe=l=>{const{onNodeDragLeave:d}=s.value;l.stopPropagation(),d(l,ne)},Ye=l=>{const{onNodeDragEnd:d}=s.value;l.stopPropagation(),v.value=!1,d(l,ne)},Je=l=>{const{onNodeDrop:d}=s.value;l.preventDefault(),l.stopPropagation(),v.value=!1,d(l,ne)},Ae=l=>{const{onNodeExpand:d}=s.value;B.value||d(l,q.value)},Le=()=>{const{data:l}=e,{draggable:d}=s.value;return!!(d&&(!d.nodeDraggable||d.nodeDraggable(l)))},Me=()=>{const{draggable:l,prefixCls:d}=s.value;return l&&(l!=null&&l.icon)?m("span",{class:`${d}-draggable-icon`},[l.icon]):null},Qe=()=>{var l,d,I;const{switcherIcon:U=a.switcherIcon||((l=s.value.slots)===null||l===void 0?void 0:l[(I=(d=e.data)===null||d===void 0?void 0:d.slots)===null||I===void 0?void 0:I.switcherIcon])}=e,{switcherIcon:Z}=s.value,ee=U||Z;return typeof ee=="function"?ee(T.value):ee},je=()=>{const{loadData:l,onNodeLoad:d}=s.value;B.value||l&&w.value&&!H.value&&!Q.value&&!W.value&&d(q.value)};Jt(()=>{je()}),Qt(()=>{je()});const Ze=()=>{const{prefixCls:l}=s.value,d=Qe();if(H.value)return d!==!1?m("span",{class:ue(`${l}-switcher`,`${l}-switcher-noop`)},[d]):null;const I=ue(`${l}-switcher`,`${l}-switcher_${w.value?Dt:$t}`);return d!==!1?m("span",{onClick:Ae,class:I},[d]):null},et=()=>{var l,d;const{disableCheckbox:I}=e,{prefixCls:U}=s.value,Z=te.value;return Ke.value?m("span",{class:ue(`${U}-checkbox`,j.value&&`${U}-checkbox-checked`,!j.value&&Y.value&&`${U}-checkbox-indeterminate`,(Z||I)&&`${U}-checkbox-disabled`),onClick:Se},[(d=(l=s.value).customCheckable)===null||d===void 0?void 0:d.call(l)]):null},Be=()=>{const{prefixCls:l}=s.value;return m("span",{class:ue(`${l}-iconEle`,`${l}-icon__${ae.value||"docu"}`,B.value&&`${l}-icon_loading`)},null)},we=()=>{const{disabled:l,eventKey:d}=e,{draggable:I,dropLevelOffset:U,dropPosition:Z,prefixCls:ee,indent:r,dropIndicatorRender:i,dragOverNodeKey:c,direction:g}=s.value;return!l&&I!==!1&&c===d?i({dropPosition:Z,dropLevelOffset:U,indent:r,prefixCls:ee,direction:g}):null},tt=()=>{var l,d,I,U,Z,ee;const{icon:r=a.icon,data:i}=e,c=a.title||((l=s.value.slots)===null||l===void 0?void 0:l[(I=(d=e.data)===null||d===void 0?void 0:d.slots)===null||I===void 0?void 0:I.title])||((U=s.value.slots)===null||U===void 0?void 0:U.title)||e.title,{prefixCls:g,showIcon:E,icon:x,loadData:y}=s.value,N=te.value,L=`${g}-node-content-wrapper`;let $;if(E){const oe=r||((Z=s.value.slots)===null||Z===void 0?void 0:Z[(ee=i==null?void 0:i.slots)===null||ee===void 0?void 0:ee.icon])||x;$=oe?m("span",{class:ue(`${g}-iconEle`,`${g}-icon__customize`)},[typeof oe=="function"?oe(T.value):oe]):Be()}else y&&B.value&&($=Be());let P;typeof c=="function"?P=c(T.value):P=c,P=P===void 0?na:P;const F=m("span",{class:`${g}-title`},[P]);return m("span",{ref:_,title:typeof c=="string"?c:"",class:ue(`${L}`,`${L}-${ae.value||"normal"}`,!N&&(z.value||v.value)&&`${g}-node-selected`),onMouseenter:Te,onMouseleave:qe,onContextmenu:Ue,onClick:De,onDblclick:ie},[$,F,we()])};return()=>{const l=k(k({},e),n),{eventKey:d,isLeaf:I,isStart:U,isEnd:Z,domRef:ee,active:r,data:i,onMousemove:c,selectable:g}=l,E=ta(l,["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"]),{prefixCls:x,filterTreeNode:y,keyEntities:N,dropContainerKey:L,dropTargetKey:$,draggingNodeKey:P}=s.value,F=te.value,oe=qt(E,{aria:!0,data:!0}),{level:ge}=N[d]||{},se=Z[Z.length-1],le=Le(),xe=!F&&le,Ie=P===d,nt=g!==void 0?{"aria-selected":!!g}:void 0;return m("div",X(X({ref:ee,class:ue(n.class,`${x}-treenode`,{[`${x}-treenode-disabled`]:F,[`${x}-treenode-switcher-${w.value?"open":"close"}`]:!I,[`${x}-treenode-checkbox-checked`]:j.value,[`${x}-treenode-checkbox-indeterminate`]:Y.value,[`${x}-treenode-selected`]:z.value,[`${x}-treenode-loading`]:B.value,[`${x}-treenode-active`]:r,[`${x}-treenode-leaf-last`]:se,[`${x}-treenode-draggable`]:xe,dragging:Ie,"drop-target":$===d,"drop-container":L===d,"drag-over":!F&&J.value,"drag-over-gap-top":!F&&R.value,"drag-over-gap-bottom":!F&&u.value,"filter-node":y&&y(q.value)}),style:n.style,draggable:xe,"aria-grabbed":Ie,onDragstart:xe?We:void 0,onDragenter:le?Ge:void 0,onDragover:le?Xe:void 0,onDragleave:le?Fe:void 0,onDrop:le?Je:void 0,onDragend:le?Ye:void 0,onMousemove:c},nt),oe),[m(Zn,{prefixCls:x,level:ge,isStart:U,isEnd:Z},null),Me(),Ze(),et(),tt()])}}});var Nt=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]]);return n};const aa=Ee({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:k(k({},ln),{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),setup(e,t){let{attrs:n,slots:a}=t;const o=M(!0),v=pt(),s=M(!1),p=b(()=>e.motion?e.motion:Un()),O=(S,D)=>{var K,V,A,G;D==="appear"?(V=(K=p.value)===null||K===void 0?void 0:K.onAfterEnter)===null||V===void 0||V.call(K,S):D==="leave"&&((G=(A=p.value)===null||A===void 0?void 0:A.onAfterLeave)===null||G===void 0||G.call(A,S)),s.value||e.onMotionEnd(),s.value=!0};return ve(()=>e.motionNodes,()=>{e.motionNodes&&e.motionType==="hide"&&o.value&&gt(()=>{o.value=!1})},{immediate:!0,flush:"post"}),Jt(()=>{e.motionNodes&&e.onMotionStart()}),_n(()=>{e.motionNodes&&O()}),()=>{const{motion:S,motionNodes:D,motionType:K,active:V,eventKey:A}=e,G=Nt(e,["motion","motionNodes","motionType","active","eventKey"]);return D?m(Ln,X(X({},p.value),{},{appear:K==="show",onAfterAppear:h=>O(h,"appear"),onAfterLeave:h=>O(h,"leave")}),{default:()=>[Fn(m("div",{class:`${v.value.prefixCls}-treenode-motion`},[D.map(h=>{const f=Nt(h.data,[]),{title:w,key:z,isStart:j,isEnd:W}=h;return delete f.children,m(vt,X(X({},f),{},{title:w,active:V,data:h.data,key:z,eventKey:z,isStart:j,isEnd:W}),a)})]),[[An,o.value]])]}):m(vt,X(X({class:n.class,style:n.style},G),{},{active:V,eventKey:A}),a)}}});function oa(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=e.length,a=t.length;if(Math.abs(n-a)!==1)return{add:!1,key:null};function o(v,s){const p=new Map;v.forEach(S=>{p.set(S,!0)});const O=s.filter(S=>!p.has(S));return O.length===1?O[0]:null}return n<a?{add:!0,key:o(e,t)}:{add:!1,key:o(t,e)}}function Pt(e,t,n){const a=e.findIndex(s=>s.key===n),o=e[a+1],v=t.findIndex(s=>s.key===n);if(o){const s=t.findIndex(p=>p.key===o.key);return t.slice(v+1,s)}return t.slice(v+1)}var Tt=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]]);return n};const It={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},la=()=>{},Ce=`RC_TREE_MOTION_${Math.random()}`,yt={key:Ce},sn={key:Ce,level:0,index:0,pos:"0",node:yt,nodes:[yt]},_t={parent:null,children:[],pos:sn.pos,data:yt,title:null,key:Ce,isStart:[],isEnd:[]};function Ft(e,t,n,a){return t===!1||!n?e:e.slice(0,Math.ceil(n/a)+1)}function At(e){const{key:t,pos:n}=e;return Zt(t,n)}function ra(e){let t=String(e.key),n=e;for(;n.parent;)n=n.parent,t=`${n.key} > ${t}`;return t}const ia=Ee({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:ea,setup(e,t){let{expose:n,attrs:a}=t;const o=fe(),v=fe(),{expandedKeys:s,flattenNodes:p}=on();n({scrollTo:h=>{o.value.scrollTo(h)},getIndentWidth:()=>v.value.offsetWidth});const O=M(p.value),S=M([]),D=fe(null);function K(){O.value=p.value,S.value=[],D.value=null,e.onListChangeEnd()}const V=pt();ve([()=>s.value.slice(),p],(h,f)=>{let[w,z]=h,[j,W]=f;const B=oa(j,w);if(B.key!==null){const{virtual:Y,height:J,itemHeight:R}=e;if(B.add){const u=W.findIndex(Q=>{let{key:H}=Q;return H===B.key}),C=Ft(Pt(W,z,B.key),Y,J,R),_=W.slice();_.splice(u+1,0,_t),O.value=_,S.value=C,D.value="show"}else{const u=z.findIndex(Q=>{let{key:H}=Q;return H===B.key}),C=Ft(Pt(z,W,B.key),Y,J,R),_=z.slice();_.splice(u+1,0,_t),O.value=_,S.value=C,D.value="hide"}}else W!==z&&(O.value=z)}),ve(()=>V.value.dragging,h=>{h||K()});const A=b(()=>e.motion===void 0?O.value:p.value),G=()=>{e.onActiveChange(null)};return()=>{const h=k(k({},e),a),{prefixCls:f,selectable:w,checkable:z,disabled:j,motion:W,height:B,itemHeight:Y,virtual:J,focusable:R,activeItem:u,focused:C,tabindex:_,onKeydown:Q,onFocus:H,onBlur:ae,onListChangeStart:te,onListChangeEnd:Ke}=h,re=Tt(h,["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"]);return m(Mn,null,[C&&u&&m("span",{style:It,"aria-live":"assertive"},[ra(u)]),m("div",null,[m("input",{style:It,disabled:R===!1||j,tabindex:R!==!1?_:null,onKeydown:Q,onFocus:H,onBlur:ae,value:"",onChange:la,"aria-label":"for screen reader"},null)]),m("div",{class:`${f}-treenode`,"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[m("div",{class:`${f}-indent`},[m("div",{ref:v,class:`${f}-indent-unit`},null)])]),m(qn,X(X({},Ut(re,["onActiveChange"])),{},{data:A.value,itemKey:At,height:B,fullHeight:!1,virtual:J,itemHeight:Y,prefixCls:`${f}-list`,ref:o,onVisibleChange:(T,ye)=>{const q=new Set(T);ye.filter(ie=>!q.has(ie)).some(ie=>At(ie)===Ce)&&K()}}),{default:T=>{const{pos:ye}=T,q=Tt(T.data,[]),{title:ne,key:ie,isStart:he,isEnd:Se}=T,De=Zt(ie,ye);return delete q.key,delete q.children,m(aa,X(X({},q),{},{eventKey:De,title:ne,active:!!u&&ie===u.key,data:T.data,isStart:he,isEnd:Se,motion:W,motionNodes:ie===Ce?S.value:null,motionType:D.value,onMotionStart:te,onMotionEnd:K,onMousemove:G}),null)}})])}}});function sa(e){let{dropPosition:t,dropLevelOffset:n,indent:a}=e;const o={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"2px"};switch(t){case-1:o.top=0,o.left=`${-n*a}px`;break;case 1:o.bottom=0,o.left=`${-n*a}px`;break;case 0:o.bottom=0,o.left=`${a}`;break}return m("div",{style:o},null)}const da=10,ca=Ee({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,props:ht(rn(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,expandAction:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:sa,allowDrop:()=>!0}),setup(e,t){let{attrs:n,slots:a,expose:o}=t;const v=M(!1);let s={};const p=M(),O=M([]),S=M([]),D=M([]),K=M([]),V=M([]),A=M([]),G={},h=Yt({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),f=M([]);ve([()=>e.treeData,()=>e.children],()=>{f.value=e.treeData!==void 0?at(e.treeData).slice():ut(at(e.children))},{immediate:!0,deep:!0});const w=M({}),z=M(!1),j=M(null),W=M(!1),B=b(()=>en(e.fieldNames)),Y=M();let J=null,R=null,u=null;const C=b(()=>({expandedKeysSet:_.value,selectedKeysSet:Q.value,loadedKeysSet:H.value,loadingKeysSet:ae.value,checkedKeysSet:te.value,halfCheckedKeysSet:Ke.value,dragOverNodeKey:h.dragOverNodeKey,dropPosition:h.dropPosition,keyEntities:w.value})),_=b(()=>new Set(A.value)),Q=b(()=>new Set(O.value)),H=b(()=>new Set(K.value)),ae=b(()=>new Set(V.value)),te=b(()=>new Set(S.value)),Ke=b(()=>new Set(D.value));Oe(()=>{if(f.value){const r=tn(f.value,{fieldNames:B.value});w.value=k({[Ce]:sn},r.keyEntities)}});let re=!1;ve([()=>e.expandedKeys,()=>e.autoExpandParent,w],(r,i)=>{let[c,g]=r,[E,x]=i,y=A.value;if(e.expandedKeys!==void 0||re&&g!==x)y=e.autoExpandParent||!re&&e.defaultExpandParent?ft(e.expandedKeys,w.value):e.expandedKeys;else if(!re&&e.defaultExpandAll){const N=k({},w.value);delete N[Ce],y=Object.keys(N).map(L=>N[L].key)}else!re&&e.defaultExpandedKeys&&(y=e.autoExpandParent||e.defaultExpandParent?ft(e.defaultExpandedKeys,w.value):e.defaultExpandedKeys);y&&(A.value=y),re=!0},{immediate:!0});const T=M([]);Oe(()=>{T.value=Hn(f.value,A.value,B.value)}),Oe(()=>{e.selectable&&(e.selectedKeys!==void 0?O.value=Ct(e.selectedKeys,e):!re&&e.defaultSelectedKeys&&(O.value=Ct(e.defaultSelectedKeys,e)))});const{maxLevel:ye,levelEntities:q}=Rn(w);Oe(()=>{if(e.checkable){let r;if(e.checkedKeys!==void 0?r=ot(e.checkedKeys)||{}:!re&&e.defaultCheckedKeys?r=ot(e.defaultCheckedKeys)||{}:f.value&&(r=ot(e.checkedKeys)||{checkedKeys:S.value,halfCheckedKeys:D.value}),r){let{checkedKeys:i=[],halfCheckedKeys:c=[]}=r;e.checkStrictly||({checkedKeys:i,halfCheckedKeys:c}=lt(i,!0,w.value,ye.value,q.value)),S.value=i,D.value=c}}}),Oe(()=>{e.loadedKeys&&(K.value=e.loadedKeys)});const ne=()=>{k(h,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},ie=r=>{Y.value.scrollTo(r)};ve(()=>e.activeKey,()=>{e.activeKey!==void 0&&(j.value=e.activeKey)},{immediate:!0}),ve(j,r=>{gt(()=>{r!==null&&ie({key:r})})},{immediate:!0,flush:"post"});const he=r=>{e.expandedKeys===void 0&&(A.value=r)},Se=()=>{h.draggingNodeKey!==null&&k(h,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),J=null,u=null},De=(r,i)=>{const{onDragend:c}=e;h.dragOverNodeKey=null,Se(),c==null||c({event:r,node:i.eventData}),R=null},Te=r=>{De(r,null),window.removeEventListener("dragend",Te)},qe=(r,i)=>{const{onDragstart:c}=e,{eventKey:g,eventData:E}=i;R=i,J={x:r.clientX,y:r.clientY};const x=pe(A.value,g);h.draggingNodeKey=g,h.dragChildrenKeys=zn(g,w.value),p.value=Y.value.getIndentWidth(),he(x),window.addEventListener("dragend",Te),c&&c({event:r,node:E})},Ue=(r,i)=>{const{onDragenter:c,onExpand:g,allowDrop:E,direction:x}=e,{pos:y,eventKey:N}=i;if(u!==N&&(u=N),!R){ne();return}const{dropPosition:L,dropLevelOffset:$,dropTargetKey:P,dropContainerKey:F,dropTargetPos:oe,dropAllowed:ge,dragOverNodeKey:se}=Et(r,R,i,p.value,J,E,T.value,w.value,_.value,x);if(h.dragChildrenKeys.indexOf(P)!==-1||!ge){ne();return}if(s||(s={}),Object.keys(s).forEach(le=>{clearTimeout(s[le])}),R.eventKey!==i.eventKey&&(s[y]=window.setTimeout(()=>{if(h.draggingNodeKey===null)return;let le=A.value.slice();const xe=w.value[i.eventKey];xe&&(xe.children||[]).length&&(le=ke(A.value,i.eventKey)),he(le),g&&g(le,{node:i.eventData,expanded:!0,nativeEvent:r})},800)),R.eventKey===P&&$===0){ne();return}k(h,{dragOverNodeKey:se,dropPosition:L,dropLevelOffset:$,dropTargetKey:P,dropContainerKey:F,dropTargetPos:oe,dropAllowed:ge}),c&&c({event:r,node:i.eventData,expandedKeys:A.value})},We=(r,i)=>{const{onDragover:c,allowDrop:g,direction:E}=e;if(!R)return;const{dropPosition:x,dropLevelOffset:y,dropTargetKey:N,dropContainerKey:L,dropAllowed:$,dropTargetPos:P,dragOverNodeKey:F}=Et(r,R,i,p.value,J,g,T.value,w.value,_.value,E);h.dragChildrenKeys.indexOf(N)!==-1||!$||(R.eventKey===N&&y===0?h.dropPosition===null&&h.dropLevelOffset===null&&h.dropTargetKey===null&&h.dropContainerKey===null&&h.dropTargetPos===null&&h.dropAllowed===!1&&h.dragOverNodeKey===null||ne():x===h.dropPosition&&y===h.dropLevelOffset&&N===h.dropTargetKey&&L===h.dropContainerKey&&P===h.dropTargetPos&&$===h.dropAllowed&&F===h.dragOverNodeKey||k(h,{dropPosition:x,dropLevelOffset:y,dropTargetKey:N,dropContainerKey:L,dropTargetPos:P,dropAllowed:$,dragOverNodeKey:F}),c&&c({event:r,node:i.eventData}))},Ge=(r,i)=>{u===i.eventKey&&!r.currentTarget.contains(r.relatedTarget)&&(ne(),u=null);const{onDragleave:c}=e;c&&c({event:r,node:i.eventData})},Xe=function(r,i){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var g;const{dragChildrenKeys:E,dropPosition:x,dropTargetKey:y,dropTargetPos:N,dropAllowed:L}=h;if(!L)return;const{onDrop:$}=e;if(h.dragOverNodeKey=null,Se(),y===null)return;const P=k(k({},Re(y,at(C.value))),{active:((g=I.value)===null||g===void 0?void 0:g.key)===y,data:w.value[y].node});E.indexOf(y);const F=Vn(N),oe={event:r,node:ze(P),dragNode:R?R.eventData:null,dragNodesKeys:[R.eventKey].concat(E),dropToGap:x!==0,dropPosition:x+Number(F[F.length-1])};c||$==null||$(oe),R=null},Fe=(r,i)=>{const{expanded:c,key:g}=i,E=T.value.filter(y=>y.key===g)[0],x=ze(k(k({},Re(g,C.value)),{data:E.data}));he(c?pe(A.value,g):ke(A.value,g)),we(r,x)},Ye=(r,i)=>{const{onClick:c,expandAction:g}=e;g==="click"&&Fe(r,i),c&&c(r,i)},Je=(r,i)=>{const{onDblclick:c,expandAction:g}=e;(g==="doubleclick"||g==="dblclick")&&Fe(r,i),c&&c(r,i)},Ae=(r,i)=>{let c=O.value;const{onSelect:g,multiple:E}=e,{selected:x}=i,y=i[B.value.key],N=!x;N?E?c=ke(c,y):c=[y]:c=pe(c,y);const L=w.value,$=c.map(P=>{const F=L[P];return F?F.node:null}).filter(P=>P);e.selectedKeys===void 0&&(O.value=c),g&&g(c,{event:"select",selected:N,node:i,selectedNodes:$,nativeEvent:r})},Le=(r,i,c)=>{const{checkStrictly:g,onCheck:E}=e,x=i[B.value.key];let y;const N={event:"check",node:i,checked:c,nativeEvent:r},L=w.value;if(g){const $=c?ke(S.value,x):pe(S.value,x),P=pe(D.value,x);y={checked:$,halfChecked:P},N.checkedNodes=$.map(F=>L[F]).filter(F=>F).map(F=>F.node),e.checkedKeys===void 0&&(S.value=$)}else{let{checkedKeys:$,halfCheckedKeys:P}=lt([...S.value,x],!0,L,ye.value,q.value);if(!c){const F=new Set($);F.delete(x),{checkedKeys:$,halfCheckedKeys:P}=lt(Array.from(F),{checked:!1,halfCheckedKeys:P},L,ye.value,q.value)}y=$,N.checkedNodes=[],N.checkedNodesPositions=[],N.halfCheckedKeys=P,$.forEach(F=>{const oe=L[F];if(!oe)return;const{node:ge,pos:se}=oe;N.checkedNodes.push(ge),N.checkedNodesPositions.push({node:ge,pos:se})}),e.checkedKeys===void 0&&(S.value=$,D.value=P)}E&&E(y,N)},Me=r=>{const i=r[B.value.key],c=new Promise((g,E)=>{const{loadData:x,onLoad:y}=e;if(!x||H.value.has(i)||ae.value.has(i))return null;x(r).then(()=>{const L=ke(K.value,i),$=pe(V.value,i);y&&y(L,{event:"load",node:r}),e.loadedKeys===void 0&&(K.value=L),V.value=$,g()}).catch(L=>{const $=pe(V.value,i);if(V.value=$,G[i]=(G[i]||0)+1,G[i]>=da){const P=ke(K.value,i);e.loadedKeys===void 0&&(K.value=P),g()}E(L)}),V.value=ke(V.value,i)});return c.catch(()=>{}),c},Qe=(r,i)=>{const{onMouseenter:c}=e;c&&c({event:r,node:i})},je=(r,i)=>{const{onMouseleave:c}=e;c&&c({event:r,node:i})},Ze=(r,i)=>{const{onRightClick:c}=e;c&&(r.preventDefault(),c({event:r,node:i}))},et=r=>{const{onFocus:i}=e;z.value=!0,i&&i(r)},Be=r=>{const{onBlur:i}=e;z.value=!1,d(null),i&&i(r)},we=(r,i)=>{let c=A.value;const{onExpand:g,loadData:E}=e,{expanded:x}=i,y=i[B.value.key];if(W.value)return;c.indexOf(y);const N=!x;if(N?c=ke(c,y):c=pe(c,y),he(c),g&&g(c,{node:i,expanded:N,nativeEvent:r}),N&&E){const L=Me(i);L&&L.then(()=>{}).catch($=>{const P=pe(A.value,y);he(P),Promise.reject($)})}},tt=()=>{W.value=!0},l=()=>{setTimeout(()=>{W.value=!1})},d=r=>{const{onActiveChange:i}=e;j.value!==r&&(e.activeKey!==void 0&&(j.value=r),r!==null&&ie({key:r}),i&&i(r))},I=b(()=>j.value===null?null:T.value.find(r=>{let{key:i}=r;return i===j.value})||null),U=r=>{let i=T.value.findIndex(g=>{let{key:E}=g;return E===j.value});i===-1&&r<0&&(i=T.value.length),i=(i+r+T.value.length)%T.value.length;const c=T.value[i];if(c){const{key:g}=c;d(g)}else d(null)},Z=b(()=>ze(k(k({},Re(j.value,C.value)),{data:I.value.data,active:!0}))),ee=r=>{const{onKeydown:i,checkable:c,selectable:g}=e;switch(r.which){case $e.UP:{U(-1),r.preventDefault();break}case $e.DOWN:{U(1),r.preventDefault();break}}const E=I.value;if(E&&E.data){const x=E.data.isLeaf===!1||!!(E.data.children||[]).length,y=Z.value;switch(r.which){case $e.LEFT:{x&&_.value.has(j.value)?we({},y):E.parent&&d(E.parent.key),r.preventDefault();break}case $e.RIGHT:{x&&!_.value.has(j.value)?we({},y):E.children&&E.children.length&&d(E.children[0].key),r.preventDefault();break}case $e.ENTER:case $e.SPACE:{c&&!y.disabled&&y.checkable!==!1&&!y.disableCheckbox?Le({},y,!te.value.has(j.value)):!c&&g&&!y.disabled&&y.selectable!==!1&&Ae({},y);break}}}i&&i(r)};return o({onNodeExpand:we,scrollTo:ie,onKeydown:ee,selectedKeys:b(()=>O.value),checkedKeys:b(()=>S.value),halfCheckedKeys:b(()=>D.value),loadedKeys:b(()=>K.value),loadingKeys:b(()=>V.value),expandedKeys:b(()=>A.value)}),jn(()=>{window.removeEventListener("dragend",Te),v.value=!0}),Jn({expandedKeys:A,selectedKeys:O,loadedKeys:K,loadingKeys:V,checkedKeys:S,halfCheckedKeys:D,expandedKeysSet:_,selectedKeysSet:Q,loadedKeysSet:H,loadingKeysSet:ae,checkedKeysSet:te,halfCheckedKeysSet:Ke,flattenNodes:T}),()=>{const{draggingNodeKey:r,dropLevelOffset:i,dropContainerKey:c,dropTargetKey:g,dropPosition:E,dragOverNodeKey:x}=h,{prefixCls:y,showLine:N,focusable:L,tabindex:$=0,selectable:P,showIcon:F,icon:oe=a.icon,switcherIcon:ge,draggable:se,checkable:le,checkStrictly:xe,disabled:Ie,motion:nt,loadData:un,filterTreeNode:fn,height:vn,itemHeight:yn,virtual:hn,dropIndicatorRender:gn,onContextmenu:pn,onScroll:bn,direction:mn,rootClassName:Kn,rootStyle:xn}=e,{class:kn,style:Sn}=n,wn=qt(k(k({},e),n),{aria:!0,data:!0});let _e;return se?typeof se=="object"?_e=se:typeof se=="function"?_e={nodeDraggable:se}:_e={}:_e=!1,m(Yn,{value:{prefixCls:y,selectable:P,showIcon:F,icon:oe,switcherIcon:ge,draggable:_e,draggingNodeKey:r,checkable:le,customCheckable:a.checkable,checkStrictly:xe,disabled:Ie,keyEntities:w.value,dropLevelOffset:i,dropContainerKey:c,dropTargetKey:g,dropPosition:E,dragOverNodeKey:x,dragging:r!==null,indent:p.value,direction:mn,dropIndicatorRender:gn,loadData:un,filterTreeNode:fn,onNodeClick:Ye,onNodeDoubleClick:Je,onNodeExpand:we,onNodeSelect:Ae,onNodeCheck:Le,onNodeLoad:Me,onNodeMouseEnter:Qe,onNodeMouseLeave:je,onNodeContextMenu:Ze,onNodeDragStart:qe,onNodeDragEnter:Ue,onNodeDragOver:We,onNodeDragLeave:Ge,onNodeDragEnd:De,onNodeDrop:Xe,slots:a}},{default:()=>[m("div",{role:"tree",class:ue(y,kn,Kn,{[`${y}-show-line`]:N,[`${y}-focused`]:z.value,[`${y}-active-focused`]:j.value!==null}),style:xn},[m(ia,X({ref:Y,prefixCls:y,style:Sn,disabled:Ie,selectable:P,checkable:!!le,motion:nt,height:vn,itemHeight:yn,virtual:hn,focusable:L,focused:z.value,tabindex:$,activeItem:I.value,onFocus:et,onBlur:Be,onKeydown:ee,onActiveChange:d,onListChangeStart:tt,onListChangeEnd:l,onContextmenu:pn,onScroll:bn},wn),null)])]})}}});var ua={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};const fa=ua;function Lt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){va(e,o,n[o])})}return e}function va(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bt=function(t,n){var a=Lt({},t,n.attrs);return m(Pe,Lt({},a,{icon:fa}),null)};bt.displayName="FileOutlined";bt.inheritAttrs=!1;const dn=bt;var ya={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};const ha=ya;function Mt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){ga(e,o,n[o])})}return e}function ga(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mt=function(t,n){var a=Mt({},t,n.attrs);return m(Pe,Mt({},a,{icon:ha}),null)};mt.displayName="MinusSquareOutlined";mt.inheritAttrs=!1;const pa=mt;var ba={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};const ma=ba;function jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){Ka(e,o,n[o])})}return e}function Ka(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kt=function(t,n){var a=jt({},t,n.attrs);return m(Pe,jt({},a,{icon:ma}),null)};Kt.displayName="PlusSquareOutlined";Kt.inheritAttrs=!1;const xa=Kt;var ka={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};const Sa=ka;function Bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){wa(e,o,n[o])})}return e}function wa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xt=function(t,n){var a=Bt({},t,n.attrs);return m(Pe,Bt({},a,{icon:Sa}),null)};xt.displayName="CaretDownFilled";xt.inheritAttrs=!1;const Oa=xt;function Ca(e,t,n,a,o){const{isLeaf:v,expanded:s,loading:p}=n;let O=t;if(p)return m(On,{class:`${e}-switcher-loading-icon`},null);let S;o&&typeof o=="object"&&(S=o.showLeafIcon);let D=null;const K=`${e}-switcher-icon`;return v?o?S&&a?a(n):(typeof o=="object"&&!S?D=m("span",{class:`${e}-switcher-leaf-line`},null):D=m(dn,{class:`${e}-switcher-line-icon`},null),D):null:(D=m(Oa,{class:K},null),o&&(D=s?m(pa,{class:`${e}-switcher-line-icon`},null):m(xa,{class:`${e}-switcher-line-icon`},null)),typeof t=="function"?O=t(k(k({},n),{defaultIcon:D,switcherCls:K})):Cn(O)&&(O=Bn(O,{class:K})),O||D)}const Ht=4;function Ea(e){const{dropPosition:t,dropLevelOffset:n,prefixCls:a,indent:o,direction:v="ltr"}=e,s=v==="ltr"?"left":"right",p=v==="ltr"?"right":"left",O={[s]:`${-n*o+Ht}px`,[p]:0};switch(t){case-1:O.top="-3px";break;case 1:O.bottom="-3px";break;default:O.bottom="-3px",O[s]=`${o+Ht}px`;break}return m("div",{style:O,class:`${a}-drop-indicator`},null)}const Da=new Dn("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),$a=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),Na=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${t.lineWidthBold}px solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),Pa=(e,t)=>{const{treeCls:n,treeNodeCls:a,treeNodePadding:o,treeTitleHeight:v}=t,s=(v-t.fontSizeLG)/2,p=t.paddingXS;return{[n]:k(k({},Nn(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,[`&${n}-rtl`]:{[`${n}-switcher`]:{"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${n}-active-focused)`]:k({},Ot(t)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${a}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:o,insetInlineStart:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:Da,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${a}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${o}px 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${n}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${n}-node-content-wrapper`]:k({},Ot(t)),[`&:not(${a}-disabled).filter-node ${n}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${n}-draggable-icon`]:{width:v,lineHeight:`${v}px`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${t.motionDurationSlow}`,[`${a}:hover &`]:{opacity:.45}},[`&${a}-disabled`]:{[`${n}-draggable-icon`]:{visibility:"hidden"}}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:v}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher`]:k(k({},$a(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:v,margin:0,lineHeight:`${v}px`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:v/2,bottom:-o,marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:v/2*.8,height:v/2,borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${n}-checkbox`]:{top:"initial",marginInlineEnd:p,marginBlockStart:s},[`${n}-node-content-wrapper, ${n}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:v,margin:0,padding:`0 ${t.paddingXS/2}px`,color:"inherit",lineHeight:`${v}px`,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:t.controlItemBgHover},[`&${n}-node-selected`]:{backgroundColor:t.controlItemBgActive},[`${n}-iconEle`]:{display:"inline-block",width:v,height:v,lineHeight:`${v}px`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${n}-node-content-wrapper`]:k({lineHeight:`${v}px`,userSelect:"none"},Na(e,t)),[`${a}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${t.colorPrimary}`}},"&-show-line":{[`${n}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:v/2,bottom:-o,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${a}-leaf-last`]:{[`${n}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${v/2}px !important`}}}}})}},Ta=e=>{const{treeCls:t,treeNodeCls:n,treeNodePadding:a}=e;return{[`${t}${t}-directory`]:{[n]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:a,insetInlineStart:0,transition:`background-color ${e.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:e.controlItemBgHover}},"> *":{zIndex:1},[`${t}-switcher`]:{transition:`color ${e.motionDurationMid}`},[`${t}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${t}-node-selected`]:{color:e.colorTextLightSolid,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:e.colorPrimary},[`${t}-switcher`]:{color:e.colorTextLightSolid},[`${t}-node-content-wrapper`]:{color:e.colorTextLightSolid,background:"transparent"}}}}}},Ia=(e,t)=>{const n=`.${e}`,a=`${n}-treenode`,o=t.paddingXS/2,v=t.controlHeightSM,s=$n(t,{treeCls:n,treeNodeCls:a,treeNodePadding:o,treeTitleHeight:v});return[Pa(e,s),Ta(s)]},_a=En("Tree",(e,t)=>{let{prefixCls:n}=t;return[{[e.componentCls]:Gn(`${n}-checkbox`,e)},Ia(n,e),Wn(e)]}),cn=()=>{const e=rn();return k(k({},e),{showLine:ct([Boolean,Object]),multiple:de(),autoExpandParent:de(),checkStrictly:de(),checkable:de(),disabled:de(),defaultExpandAll:de(),defaultExpandParent:de(),defaultExpandedKeys:Ne(),expandedKeys:Ne(),checkedKeys:ct([Array,Object]),defaultCheckedKeys:Ne(),selectedKeys:Ne(),defaultSelectedKeys:Ne(),selectable:de(),loadedKeys:Ne(),draggable:de(),showIcon:de(),icon:He(),switcherIcon:me.any,prefixCls:String,replaceFields:Tn(),blockNode:de(),openAnimation:me.any,onDoubleclick:e.onDblclick,"onUpdate:selectedKeys":He(),"onUpdate:checkedKeys":He(),"onUpdate:expandedKeys":He()})},Ve=Ee({compatConfig:{MODE:3},name:"ATree",inheritAttrs:!1,props:ht(cn(),{checkable:!1,selectable:!0,showIcon:!1,blockNode:!1}),slots:Object,setup(e,t){let{attrs:n,expose:a,emit:o,slots:v}=t;Vt(!(e.treeData===void 0&&v.default));const{prefixCls:s,direction:p,virtual:O}=Wt("tree",e),[S,D]=_a(s),K=fe();a({treeRef:K,onNodeExpand:function(){var f;(f=K.value)===null||f===void 0||f.onNodeExpand(...arguments)},scrollTo:f=>{var w;(w=K.value)===null||w===void 0||w.scrollTo(f)},selectedKeys:b(()=>{var f;return(f=K.value)===null||f===void 0?void 0:f.selectedKeys}),checkedKeys:b(()=>{var f;return(f=K.value)===null||f===void 0?void 0:f.checkedKeys}),halfCheckedKeys:b(()=>{var f;return(f=K.value)===null||f===void 0?void 0:f.halfCheckedKeys}),loadedKeys:b(()=>{var f;return(f=K.value)===null||f===void 0?void 0:f.loadedKeys}),loadingKeys:b(()=>{var f;return(f=K.value)===null||f===void 0?void 0:f.loadingKeys}),expandedKeys:b(()=>{var f;return(f=K.value)===null||f===void 0?void 0:f.expandedKeys})}),Oe(()=>{Pn(e.replaceFields===void 0,"Tree","`replaceFields` is deprecated, please use fieldNames instead")});const A=(f,w)=>{o("update:checkedKeys",f),o("check",f,w)},G=(f,w)=>{o("update:expandedKeys",f),o("expand",f,w)},h=(f,w)=>{o("update:selectedKeys",f),o("select",f,w)};return()=>{const{showIcon:f,showLine:w,switcherIcon:z=v.switcherIcon,icon:j=v.icon,blockNode:W,checkable:B,selectable:Y,fieldNames:J=e.replaceFields,motion:R=e.openAnimation,itemHeight:u=28,onDoubleclick:C,onDblclick:_}=e,Q=k(k(k({},n),Ut(e,["onUpdate:checkedKeys","onUpdate:expandedKeys","onUpdate:selectedKeys","onDoubleclick"])),{showLine:!!w,dropIndicatorRender:Ea,fieldNames:J,icon:j,itemHeight:u}),H=v.default?dt(v.default()):void 0;return S(m(ca,X(X({},Q),{},{virtual:O.value,motion:R,ref:K,prefixCls:s.value,class:ue({[`${s.value}-icon-hide`]:!f,[`${s.value}-block-node`]:W,[`${s.value}-unselectable`]:!Y,[`${s.value}-rtl`]:p.value==="rtl"},n.class,D.value),direction:p.value,checkable:B,selectable:Y,switcherIcon:ae=>Ca(s.value,z,ae,v.leafIcon,w),onCheck:A,onExpand:G,onSelect:h,onDblclick:_||C,children:H}),k(k({},v),{checkable:()=>m("span",{class:`${s.value}-checkbox-inner`},null)})))}}});var Fa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};const Aa=Fa;function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){La(e,o,n[o])})}return e}function La(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kt=function(t,n){var a=Rt({},t,n.attrs);return m(Pe,Rt({},a,{icon:Aa}),null)};kt.displayName="FolderOpenOutlined";kt.inheritAttrs=!1;const Ma=kt;var ja={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};const Ba=ja;function zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){Ha(e,o,n[o])})}return e}function Ha(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var St=function(t,n){var a=zt({},t,n.attrs);return m(Pe,zt({},a,{icon:Ba}),null)};St.displayName="FolderOutlined";St.inheritAttrs=!1;const Ra=St;var be;(function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.End=2]="End"})(be||(be={}));function wt(e,t,n){function a(o){const v=o[t.key],s=o[t.children];n(v,o)!==!1&&wt(s||[],t,n)}e.forEach(a)}function za(e){let{treeData:t,expandedKeys:n,startKey:a,endKey:o,fieldNames:v={title:"title",key:"key",children:"children"}}=e;const s=[];let p=be.None;if(a&&a===o)return[a];if(!a||!o)return[];function O(S){return S===a||S===o}return wt(t,v,S=>{if(p===be.End)return!1;if(O(S)){if(s.push(S),p===be.None)p=be.Start;else if(p===be.Start)return p=be.End,!1}else p===be.Start&&s.push(S);return n.includes(S)}),s}function rt(e,t,n){const a=[...t],o=[];return wt(e,n,(v,s)=>{const p=a.indexOf(v);return p!==-1&&(o.push(s),a.splice(p,1)),!!a.length}),o}var Va=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]]);return n};const qa=()=>k(k({},cn()),{expandAction:ct([Boolean,String])});function Ua(e){const{isLeaf:t,expanded:n}=e;return t?m(dn,null,null):n?m(Ma,null,null):m(Ra,null,null)}const it=Ee({compatConfig:{MODE:3},name:"ADirectoryTree",inheritAttrs:!1,props:ht(qa(),{showIcon:!0,expandAction:"click"}),slots:Object,setup(e,t){let{attrs:n,slots:a,emit:o,expose:v}=t;var s;const p=fe(e.treeData||ut(dt((s=a.default)===null||s===void 0?void 0:s.call(a))));ve(()=>e.treeData,()=>{p.value=e.treeData}),Qt(()=>{gt(()=>{var u;e.treeData===void 0&&a.default&&(p.value=ut(dt((u=a.default)===null||u===void 0?void 0:u.call(a))))})});const O=fe(),S=fe(),D=b(()=>en(e.fieldNames)),K=fe();v({scrollTo:u=>{var C;(C=K.value)===null||C===void 0||C.scrollTo(u)},selectedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.selectedKeys}),checkedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.checkedKeys}),halfCheckedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.halfCheckedKeys}),loadedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.loadedKeys}),loadingKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.loadingKeys}),expandedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.expandedKeys})});const A=()=>{const{keyEntities:u}=tn(p.value,{fieldNames:D.value});let C;return e.defaultExpandAll?C=Object.keys(u):e.defaultExpandParent?C=ft(e.expandedKeys||e.defaultExpandedKeys||[],u):C=e.expandedKeys||e.defaultExpandedKeys,C},G=fe(e.selectedKeys||e.defaultSelectedKeys||[]),h=fe(A());ve(()=>e.selectedKeys,()=>{e.selectedKeys!==void 0&&(G.value=e.selectedKeys)},{immediate:!0}),ve(()=>e.expandedKeys,()=>{e.expandedKeys!==void 0&&(h.value=e.expandedKeys)},{immediate:!0});const w=Xn((u,C)=>{const{isLeaf:_}=C;_||u.shiftKey||u.metaKey||u.ctrlKey||K.value.onNodeExpand(u,C)},200,{leading:!0}),z=(u,C)=>{e.expandedKeys===void 0&&(h.value=u),o("update:expandedKeys",u),o("expand",u,C)},j=(u,C)=>{const{expandAction:_}=e;_==="click"&&w(u,C),o("click",u,C)},W=(u,C)=>{const{expandAction:_}=e;(_==="dblclick"||_==="doubleclick")&&w(u,C),o("doubleclick",u,C),o("dblclick",u,C)},B=(u,C)=>{const{multiple:_}=e,{node:Q,nativeEvent:H}=C,ae=Q[D.value.key],te=k(k({},C),{selected:!0}),Ke=(H==null?void 0:H.ctrlKey)||(H==null?void 0:H.metaKey),re=H==null?void 0:H.shiftKey;let T;_&&Ke?(T=u,O.value=ae,S.value=T,te.selectedNodes=rt(p.value,T,D.value)):_&&re?(T=Array.from(new Set([...S.value||[],...za({treeData:p.value,expandedKeys:h.value,startKey:ae,endKey:O.value,fieldNames:D.value})])),te.selectedNodes=rt(p.value,T,D.value)):(T=[ae],O.value=ae,S.value=T,te.selectedNodes=rt(p.value,T,D.value)),o("update:selectedKeys",T),o("select",T,te),e.selectedKeys===void 0&&(G.value=T)},Y=(u,C)=>{o("update:checkedKeys",u),o("check",u,C)},{prefixCls:J,direction:R}=Wt("tree",e);return()=>{const u=ue(`${J.value}-directory`,{[`${J.value}-directory-rtl`]:R.value==="rtl"},n.class),{icon:C=a.icon,blockNode:_=!0}=e,Q=Va(e,["icon","blockNode"]);return m(Ve,X(X(X({},n),{},{icon:C||Ua,ref:K,blockNode:_},Q),{},{prefixCls:J.value,class:u,expandedKeys:h.value,selectedKeys:G.value,onSelect:B,onClick:j,onDblclick:W,onExpand:z,onCheck:Y}),a)}}}),st=vt,eo=k(Ve,{DirectoryTree:it,TreeNode:st,install:e=>(e.component(Ve.name,Ve),e.component(st.name,st),e.component(it.name,it),e)});export{eo as _,ce as e};
