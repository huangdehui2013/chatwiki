import{b as v,d as h,dC as E}from"../../index-G9f-mAi5.js";import{a4 as k,d as I,e as S,M as b,N as d,k as m,S as f,F as q,a0 as w,Q as g,Y as B,Z as D,u as $,a8 as u,l as i,f as A,W as a,a1 as L,a2 as N}from"./vue-chunks-DKljrDvA.js";import{_ as O,M as R}from"./index-BZceli48.js";import{U as K}from"./UserOutlined-BCAkM1A2.js";import{u as V}from"./database-6zJiCuK7.js";import{A as F,_ as U}from"./add-data-sheet-DbeoFU8B.js";import{E as P}from"./EditOutlined-BmLl-BYk.js";import"./axios-BZ84_VUH.js";import"./qs-DB0tj3pA.js";import"./crypto-js-fJpLWOEv.js";import"./dayjs-BpZi_McX.js";import"./shallowequal-CthuG9FU.js";import"./Trigger-BW7irFFi.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./collapseMotion-CxHtxgWr.js";import"./slide-WaU3Tqer.js";import"./index-BGI9PV4t.js";import"./index-iB9ppu1z.js";import"./colors-6QtHC0k-.js";import"./index-CCptUaa0.js";import"./index-9rMTI6VT.js";import"./isPlainObject-CaOV5tQi.js";import"./responsiveObserve-BUPVP-R1.js";import"./QuestionCircleOutlined-nxul5uCX.js";import"./FormItemContext-BeRgkpjf.js";import"./index-CaL7BI1t.js";import"./Input-Ji63igco.js";import"./index-LTvy7D4z.js";import"./inputProps-BSdok6V2.js";import"./Search-DvNwOqNE.js";import"./SearchOutlined-IapCazbA.js";import"./TextArea-DCKr3Wuq.js";import"./Password-UJ3cPEMB.js";const Q={class:"left-menu-box"},T={__name:"left-menus",emits:["changeMenu"],setup(e,{emit:l}){const o=l,t=k(),r=t.query,s=I(()=>[t.path.split("/")[3]]),p=S([{key:"field-manage",id:"field-manage",icon:()=>i("span",{},[i(h,{name:"field-menu-icon",class:"menu-icon"})]),label:"字段管理",title:"字段管理",path:"/database/details/field-manage"},{key:"database-manage",id:"database-manage",icon:()=>i("span",{},[i(h,{name:"database-menu-icon",class:"menu-icon"})]),label:"数据管理",title:"数据管理",path:"/database/details/database-manage"},{key:"role-permission",id:"role-permission",icon:()=>i("span",{},[i(K)]),label:"权限管理",title:"权限管理",path:"/database/details/role-permission"}]),_=({item:c})=>{s.value.includes(c.id)||o("changeMenu",c)};return(c,y)=>{const M=O,x=u("router-link"),C=R;return d(),b("div",Q,[m(C,{class:"left-menu",selectedKeys:s.value,onClick:_},{default:f(()=>[(d(!0),b(q,null,w(p.value,n=>(d(),g(x,{class:"default-color",to:{path:n.path,query:$(r)},key:n.key},{default:f(()=>[(d(),g(M,{icon:n.icon,path:n.path,key:n.key},{default:f(()=>[B(D(n.label),1)]),_:2},1032,["icon","path"]))]),_:2},1032,["to"]))),128))]),_:1},8,["selectedKeys"])])}}},W=v(T,[["__scopeId","data-v-a8199336"]]),Y=A({components:{LeftMenus:W,AddDataSheet:F,EditOutlined:P},async beforeRouteEnter(e,l,o){let t=E(e.query.form_id);if(t==0||t==1){o("/no-permission");return}o()},setup(){const e=V(),o=k().query,t=I(()=>e.databaseInfo),r=()=>{e.getDatabaseInfo({id:o.form_id})};r();const s=S(null);return{dataBaseInfo:t,getInfo:r,toEdit:()=>{s.value.show({...e.databaseInfo})},addDataSheetRef:s}}}),Z=e=>(L("data-v-91ef85c9"),e=e(),N(),e),j={class:"details-library-page"},z={class:"between-content-box"},G={class:"layout-left"},H={class:"library-name-box"},J=Z(()=>a("img",{class:"avatar",src:U,alt:""},null,-1)),X={class:"name"},ee={class:"left-menu-box"},te={class:"right-content-box"};function oe(e,l,o,t,r,s){const p=h,_=u("LeftMenus"),c=u("router-view"),y=u("AddDataSheet");return d(),b("div",j,[a("div",z,[a("div",G,[a("div",H,[J,a("div",X,D(e.dataBaseInfo.name),1),m(p,{onClick:e.toEdit,name:"edit"},null,8,["onClick"])]),a("div",ee,[m(_)])]),a("div",te,[m(c)])]),m(y,{onOk:e.getInfo,ref:"addDataSheetRef"},null,8,["onOk"])])}const Oe=v(Y,[["render",oe],["__scopeId","data-v-91ef85c9"]]);export{Oe as default};
