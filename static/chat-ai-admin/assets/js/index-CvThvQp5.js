import{b as v,d as h,dC as E}from"../../index-uZrSGPJ2.js";import{a4 as k,d as I,e as S,M as b,N as d,k as m,S as f,F as q,a0 as w,Q as g,Y as B,Z as D,u as $,a8 as u,l as i,f as A,W as a,a1 as L,a2 as N}from"./vue-chunks-Dagx-vSq.js";import{_ as O,M as R}from"./index-DGr8yI5G.js";import{U as K}from"./UserOutlined-DJfTsEQ-.js";import{u as V}from"./database-D4jpZFkB.js";import{A as F,_ as U}from"./add-data-sheet-DKCqyvtu.js";import{E as P}from"./EditOutlined-BJnn9Hwf.js";import"./axios-BZ84_VUH.js";import"./qs-CSiAN3u4.js";import"./crypto-js-DN0vhd75.js";import"./dayjs-CZ5VaChI.js";import"./shallowequal-CI97GdPH.js";import"./Trigger-DoXVYhN4.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./collapseMotion-D5mGic4t.js";import"./slide-BIPMUmGB.js";import"./index-BIs6ICi9.js";import"./index-EWP4miKO.js";import"./colors-Bq--hzfJ.js";import"./index-P937V9jP.js";import"./index-BuYscfp6.js";import"./isPlainObject-CAcuZItg.js";import"./responsiveObserve-FU3Dn2XC.js";import"./QuestionCircleOutlined-DaqtyhFd.js";import"./FormItemContext-Cs8-ygLw.js";import"./index-Jtlfy8YK.js";import"./Input-CkgxEQH_.js";import"./index-CJgvF6wP.js";import"./inputProps-CFzerOIV.js";import"./Search-B1xKt77Y.js";import"./SearchOutlined--FowkdKA.js";import"./TextArea-CjFwG0DD.js";import"./Password-DhHqQ7fn.js";const Q={class:"left-menu-box"},T={__name:"left-menus",emits:["changeMenu"],setup(e,{emit:l}){const o=l,t=k(),r=t.query,s=I(()=>[t.path.split("/")[3]]),p=S([{key:"field-manage",id:"field-manage",icon:()=>i("span",{},[i(h,{name:"field-menu-icon",class:"menu-icon"})]),label:"字段管理",title:"字段管理",path:"/database/details/field-manage"},{key:"database-manage",id:"database-manage",icon:()=>i("span",{},[i(h,{name:"database-menu-icon",class:"menu-icon"})]),label:"数据管理",title:"数据管理",path:"/database/details/database-manage"},{key:"role-permission",id:"role-permission",icon:()=>i("span",{},[i(K)]),label:"权限管理",title:"权限管理",path:"/database/details/role-permission"}]),_=({item:c})=>{s.value.includes(c.id)||o("changeMenu",c)};return(c,y)=>{const M=O,x=u("router-link"),C=R;return d(),b("div",Q,[m(C,{class:"left-menu",selectedKeys:s.value,onClick:_},{default:f(()=>[(d(!0),b(q,null,w(p.value,n=>(d(),g(x,{class:"default-color",to:{path:n.path,query:$(r)},key:n.key},{default:f(()=>[(d(),g(M,{icon:n.icon,path:n.path,key:n.key},{default:f(()=>[B(D(n.label),1)]),_:2},1032,["icon","path"]))]),_:2},1032,["to"]))),128))]),_:1},8,["selectedKeys"])])}}},W=v(T,[["__scopeId","data-v-a8199336"]]),Y=A({components:{LeftMenus:W,AddDataSheet:F,EditOutlined:P},async beforeRouteEnter(e,l,o){let t=E(e.query.form_id);if(t==0||t==1){o("/no-permission");return}o()},setup(){const e=V(),o=k().query,t=I(()=>e.databaseInfo),r=()=>{e.getDatabaseInfo({id:o.form_id})};r();const s=S(null);return{dataBaseInfo:t,getInfo:r,toEdit:()=>{s.value.show({...e.databaseInfo})},addDataSheetRef:s}}}),Z=e=>(L("data-v-91ef85c9"),e=e(),N(),e),j={class:"details-library-page"},z={class:"between-content-box"},G={class:"layout-left"},H={class:"library-name-box"},J=Z(()=>a("img",{class:"avatar",src:U,alt:""},null,-1)),X={class:"name"},ee={class:"left-menu-box"},te={class:"right-content-box"};function oe(e,l,o,t,r,s){const p=h,_=u("LeftMenus"),c=u("router-view"),y=u("AddDataSheet");return d(),b("div",j,[a("div",z,[a("div",G,[a("div",H,[J,a("div",X,D(e.dataBaseInfo.name),1),m(p,{onClick:e.toEdit,name:"edit"},null,8,["onClick"])]),a("div",ee,[m(_)])]),a("div",te,[m(c)])]),m(y,{onOk:e.getInfo,ref:"addDataSheetRef"},null,8,["onOk"])])}const Oe=v(Y,[["render",oe],["__scopeId","data-v-91ef85c9"]]);export{Oe as default};
