import{b as h,M as S,dV as w,k as x}from"../../index-BYXP5-K6.js";import{F as U,_ as F}from"./index-DvGRcWf4.js";import"./index-CcC8Vz_q.js";import{I}from"./Input-Bfzy8tJK.js";import{e as p,M as B,N as f,k as t,S as s,W as D,aa as K,Q as L,U as N,z as O}from"./vue-chunks-DKljrDvA.js";import{_ as R}from"./index-BIs6VsWm.js";import{_ as $}from"./TextArea-Dnm7usWJ.js";import{S as C}from"./share-form-DAhgURc4.js";import{_ as M}from"./index-cp-3f9TC.js";const V={class:"seo-setting"},E={__name:"seo-setting",emits:["ok"],setup(_,{expose:u,emit:r}){const i=r,a=p(!1),e=p({library_key:"",seo_title:"",seo_desc:"",seo_keywords:""}),l=p(!1),v=()=>{a.value=!0,w({...K(e.value)}).then(()=>{a.value=!1,l.value=!1,x.success("保存成功"),i("ok")}).catch(()=>{a.value=!1})};return u({open:m=>{let o={library_key:"",seo_title:"",seo_desc:"",seo_keywords:""};e.value={...o,...m},l.value=!0}}),(m,o)=>{const y=R,d=I,c=F,g=$,k=U,b=S;return f(),B("div",null,[t(b,{open:l.value,"onUpdate:open":o[3]||(o[3]=n=>l.value=n),title:"SEO设置",onOk:v,width:"746px",confirmLoading:a.value},{default:s(()=>[D("div",V,[t(y,{message:"修改后，也需要发布才会生效。",type:"info","show-icon":"",style:{"margin-bottom":"16px"}}),t(k,{model:e.value,layout:"vertical"},{default:s(()=>[t(c,{label:"Title"},{default:s(()=>[t(d,{value:e.value.seo_title,"onUpdate:value":o[0]||(o[0]=n=>e.value.seo_title=n),placeholder:"请输入页面标题"},null,8,["value"])]),_:1}),t(c,{label:"Description"},{default:s(()=>[t(g,{value:e.value.seo_desc,"onUpdate:value":o[1]||(o[1]=n=>e.value.seo_desc=n),placeholder:"请输入页面描述"},null,8,["value"])]),_:1}),t(c,{label:"Keyword"},{default:s(()=>[t(d,{value:e.value.seo_keywords,"onUpdate:value":o[2]||(o[2]=n=>e.value.seo_keywords=n),placeholder:"请输入关键词,多个关键词用英文逗号分隔"},null,8,["value"])]),_:1})]),_:1},8,["model"])])]),_:1},8,["open","confirmLoading"])])}}},P=h(E,[["__scopeId","data-v-1b717cda"]]),X={__name:"share-popup",props:{docKey:{type:String},libraryId:{type:[Number,String],default:""},libraryKey:{type:String,default:""},baseUrl:{type:String,default:"/open/doc"}},setup(_){const u=_,r=p(null),i=async a=>{a&&O(()=>{r.value.init({doc_key:u.docKey})})};return(a,e)=>{const l=M;return f(),L(l,{color:"#fff",trigger:"hover",placement:"bottomRight",overlayStyle:{"max-width":"400px",width:"400px"},overlayInnerStyle:{padding:"0"},class:"share-popup",onOpenChange:i},{content:s(()=>[t(C,{ref_key:"shareFormRef",ref:r,layout:"vertical","hide-copy":!0,baseUrl:_.baseUrl},null,8,["baseUrl"])]),default:s(()=>[N(a.$slots,"default")]),_:3})}}};export{P as S,X as _};
