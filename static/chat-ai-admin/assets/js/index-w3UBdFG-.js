import{b as O,e as I,d as M,B as U,k as d,a8 as A,a9 as B,M as R,E as V}from"../../index-BYXP5-K6.js";import{S as N}from"./index-B7oz8JPj.js";import{S as T}from"./SettingOutlined-D-jF4FGv.js";import"./index-CcC8Vz_q.js";import{I as Y}from"./Input-Bfzy8tJK.js";import{e as v,B as z,x as E,M as F,W as o,k as i,S as h,a1 as Z,a2 as D,N as G,u as q,Y as k}from"./vue-chunks-DKljrDvA.js";import{_ as H}from"./index-CSLFuo_b.js";import"./axios-BZ84_VUH.js";import"./qs-DB0tj3pA.js";import"./crypto-js-fJpLWOEv.js";import"./dayjs-BpZi_McX.js";import"./FormItemContext-BbeLgxF6.js";import"./index-DxTO0j69.js";import"./Search-1aGcXLAr.js";import"./SearchOutlined-BAHqMa3J.js";import"./isPlainObject-BRAWLrZZ.js";import"./inputProps-B3PFVydJ.js";import"./TextArea-Dnm7usWJ.js";import"./index-2d7y8GiQ.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./Password-CPQYqxS0.js";const a=_=>(Z("data-v-2fcb8add"),_=_(),D(),_),J={class:"aliocr-main"},L=a(()=>o("div",{class:"aliocr-title"},"阿里云OCR",-1)),P={class:"aliocr-switch-box"},W={class:"aliocr-switch-nav-box"},$=a(()=>o("div",{class:"aliocr-switch-nav-title"},"阿里云OCR",-1)),j=a(()=>o("div",{class:"aliocr-info"},"开启后，Pdf文档解析支持阿里云OCR解析，结果更精准，高效",-1)),K={class:"aliocr-switch-btn-box"},Q={class:"aliocr-config-box"},X={class:"aliocr-config-nav"},oo=a(()=>o("div",{class:"aliocr-config-nav-title"},"接入配置",-1)),eo=a(()=>o("div",{class:"aliocr-config-nav-line"},null,-1)),co={class:"aliocr-config-form"},so={class:"aliocr-config-form-item"},io=a(()=>o("div",{class:"aliocr-config-form-label"},"Accesskey ID",-1)),to={class:"aliocr-config-form-item"},ao=a(()=>o("div",{class:"aliocr-config-form-label"},"Accesskey Secret",-1)),no={class:"aliocr-config-form-item"},lo={__name:"index",setup(_){const n=v(!1),c=z({ali_ocr_key:"",ali_ocr_secret:""}),r=v(!1),t=I(),u=async()=>{await t.getCompanyInfo()};function p(){if(!c.ali_ocr_key)return"请输入Accesskey ID";if(!c.ali_ocr_secret)return"请输入Accesskey Secret"}const g=s=>{s&&p()?(n.value=!n.value,R.confirm({title:"接入阿里云OCR配置",icon:i(V),content:"开启前请先接入阿里云OCR",okText:"知道了",cancelText:null,okCancel:!1,onOk(){},onCancel(){}})):f()},y=()=>{const s=p();if(s)return d.error(s);r.value=!0,A({...c}).then(e=>{d.success("测试通过")}).finally(()=>{r.value=!1})},f=()=>{const s=p();if(s)return d.error(s);r.value=!0,B({ali_ocr_switch:n.value?1:2,...c}).then(e=>{d.success("保存成功"),u()}).finally(()=>{r.value=!1})},w=s=>{window.open(s)};return E(async()=>{await u(),t.ali_ocr_key&&(c.ali_ocr_key=t.ali_ocr_key),t.ali_ocr_secret&&(c.ali_ocr_secret=t.ali_ocr_secret),t.ali_ocr_switch&&(n.value=t.ali_ocr_switch==1)}),(s,e)=>{const C=M,x=H,m=Y,S=U,b=N;return G(),F("div",J,[L,o("div",P,[o("div",W,[i(C,{name:"ali-ocr",style:{"font-size":"24px",color:"#FF5915"}}),$]),j,o("div",K,[i(x,{onChange:g,checked:n.value,"onUpdate:checked":e[0]||(e[0]=l=>n.value=l),"checked-children":"开","un-checked-children":"关",checkedValue:!0,unCheckedValue:!1},null,8,["checked"])])]),i(b,{tip:"加载中...",spinning:r.value},{default:h(()=>[o("div",Q,[o("div",X,[i(q(T),{style:{"font-size":"16px"}}),oo,eo,o("div",{class:"alicor-config-nav-url",onClick:e[1]||(e[1]=l=>w("https://www.aliyun.com/product/ai/docmind?spm=5176.28536895.J_kUfM_yzYYqU72woCZLHoY.6.28bd586cZUeowZ"))},"如何接入?")]),o("div",co,[o("div",so,[io,i(m,{value:c.ali_ocr_key,"onUpdate:value":e[2]||(e[2]=l=>c.ali_ocr_key=l),placeholder:"请输入"},null,8,["value"])]),o("div",to,[ao,i(m,{value:c.ali_ocr_secret,"onUpdate:value":e[3]||(e[3]=l=>c.ali_ocr_secret=l),placeholder:"请输入"},null,8,["value"])]),o("div",no,[o("div",{class:"aliocr-config-form-label"},[k("配置完成后，点击 "),o("div",{class:"alicor-config-nav-url",onClick:y},"调用测试")]),i(S,{type:"primary",onClick:f},{default:h(()=>[k("保存")]),_:1})])])])]),_:1},8,["spinning"])])}}},Bo=O(lo,[["__scopeId","data-v-2fcb8add"]]);export{Bo as default};
